{"ast":null,"code":"import axios from 'axios';\nimport Constants from 'expo-constants';\nvar getBaseUrl = function getBaseUrl() {\n  var _Constants$manifest, _Constants$manifest$d;\n  var localhost = (_Constants$manifest = Constants.manifest) == null ? void 0 : (_Constants$manifest$d = _Constants$manifest.debuggerHost) == null ? void 0 : _Constants$manifest$d.split(':').shift();\n  if (Platform.OS === 'android') {\n    return `http://10.0.2.2:3000`;\n  }\n  if (__DEV__ && localhost) {\n    return `http://${localhost}:3000`;\n  }\n  return 'https://sua-api-de-producao.com';\n};\nvar api = axios.create({\n  baseURL: getBaseUrl(),\n  timeout: 10000\n});\napi.interceptors.request.use(function (config) {\n  console.log('API Request:', config.url, config.method, config.data);\n  return config;\n}, function (error) {\n  console.error('API Request Error:', error);\n  return Promise.reject(error);\n});\napi.interceptors.response.use(function (response) {\n  console.log('API Response:', response.config.url, response.status, response.data);\n  return response;\n}, function (error) {\n  var _error$response;\n  console.error('API Response Error:', ((_error$response = error.response) == null ? void 0 : _error$response.data) || error.message);\n  return Promise.reject(error);\n});\nexport default api;","map":{"version":3,"names":["axios","Constants","getBaseUrl","_Constants$manifest","_Constants$manifest$d","localhost","manifest","debuggerHost","split","shift","Platform","OS","__DEV__","api","create","baseURL","timeout","interceptors","request","use","config","console","log","url","method","data","error","Promise","reject","response","status","_error$response","message"],"sources":["/Users/cassioreistrindade/kbc2/frontend/src/services/api.ts"],"sourcesContent":["import axios from 'axios';\nimport Constants from 'expo-constants';\n\nconst getBaseUrl = () => {\n  // Tenta obter o IP do host de depuração\n  const localhost = Constants.manifest?.debuggerHost?.split(':').shift();\n  \n  // Para Android, use 10.0.2.2 para acessar localhost\n  if (Platform.OS === 'android') {\n    return `http://10.0.2.2:3000`;\n  }\n  \n  // Para iOS e web, use o IP do debugger\n  if (__DEV__ && localhost) {\n    return `http://${localhost}:3000`;\n  }\n  \n  // URL de produção\n  return 'https://sua-api-de-producao.com';\n};\n\nconst api = axios.create({\n  baseURL: getBaseUrl(),\n  timeout: 10000, // 10 segundos de timeout\n});\n\n// Interceptador para log de requisições (útil para debug)\napi.interceptors.request.use(\n  (config) => {\n    console.log('API Request:', config.url, config.method, config.data);\n    return config;\n  },\n  (error) => {\n    console.error('API Request Error:', error);\n    return Promise.reject(error);\n  }\n);\n\n// Interceptador para log de respostas\napi.interceptors.response.use(\n  (response) => {\n    console.log('API Response:', response.config.url, response.status, response.data);\n    return response;\n  },\n  (error) => {\n    console.error('API Response Error:', error.response?.data || error.message);\n    return Promise.reject(error);\n  }\n);\n\nexport default api;"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,OAAOC,SAAS,MAAM,gBAAgB;AAEtC,IAAMC,UAAU,GAAG,SAAbA,UAAUA,CAAA,EAAS;EAAA,IAAAC,mBAAA,EAAAC,qBAAA;EAEvB,IAAMC,SAAS,IAAAF,mBAAA,GAAGF,SAAS,CAACK,QAAQ,sBAAAF,qBAAA,GAAlBD,mBAAA,CAAoBI,YAAY,qBAAhCH,qBAAA,CAAkCI,KAAK,CAAC,GAAG,CAAC,CAACC,KAAK,CAAC,CAAC;EAGtE,IAAIC,QAAQ,CAACC,EAAE,KAAK,SAAS,EAAE;IAC7B,OAAO,sBAAsB;EAC/B;EAGA,IAAIC,OAAO,IAAIP,SAAS,EAAE;IACxB,OAAO,UAAUA,SAAS,OAAO;EACnC;EAGA,OAAO,iCAAiC;AAC1C,CAAC;AAED,IAAMQ,GAAG,GAAGb,KAAK,CAACc,MAAM,CAAC;EACvBC,OAAO,EAAEb,UAAU,CAAC,CAAC;EACrBc,OAAO,EAAE;AACX,CAAC,CAAC;AAGFH,GAAG,CAACI,YAAY,CAACC,OAAO,CAACC,GAAG,CAC1B,UAACC,MAAM,EAAK;EACVC,OAAO,CAACC,GAAG,CAAC,cAAc,EAAEF,MAAM,CAACG,GAAG,EAAEH,MAAM,CAACI,MAAM,EAAEJ,MAAM,CAACK,IAAI,CAAC;EACnE,OAAOL,MAAM;AACf,CAAC,EACD,UAACM,KAAK,EAAK;EACTL,OAAO,CAACK,KAAK,CAAC,oBAAoB,EAAEA,KAAK,CAAC;EAC1C,OAAOC,OAAO,CAACC,MAAM,CAACF,KAAK,CAAC;AAC9B,CACF,CAAC;AAGDb,GAAG,CAACI,YAAY,CAACY,QAAQ,CAACV,GAAG,CAC3B,UAACU,QAAQ,EAAK;EACZR,OAAO,CAACC,GAAG,CAAC,eAAe,EAAEO,QAAQ,CAACT,MAAM,CAACG,GAAG,EAAEM,QAAQ,CAACC,MAAM,EAAED,QAAQ,CAACJ,IAAI,CAAC;EACjF,OAAOI,QAAQ;AACjB,CAAC,EACD,UAACH,KAAK,EAAK;EAAA,IAAAK,eAAA;EACTV,OAAO,CAACK,KAAK,CAAC,qBAAqB,EAAE,EAAAK,eAAA,GAAAL,KAAK,CAACG,QAAQ,qBAAdE,eAAA,CAAgBN,IAAI,KAAIC,KAAK,CAACM,OAAO,CAAC;EAC3E,OAAOL,OAAO,CAACC,MAAM,CAACF,KAAK,CAAC;AAC9B,CACF,CAAC;AAED,eAAeb,GAAG","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}