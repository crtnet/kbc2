{"ast":null,"code":"import axios from 'axios';\nvar createAPI = function createAPI() {\n  var api = axios.create({\n    baseURL: process.env.EXPO_PUBLIC_API_URL || 'http://localhost:3000',\n    timeout: 10000,\n    headers: {\n      'Content-Type': 'application/json'\n    }\n  });\n  api.interceptors.request.use(function (config) {\n    var token = localStorage.getItem('@KidsBookCreator:token');\n    if (token) {\n      config.headers.Authorization = `Bearer ${token}`;\n    }\n    return config;\n  }, function (error) {\n    console.error('API Request Error:', error);\n    return Promise.reject(error);\n  });\n  api.interceptors.response.use(function (response) {\n    return response;\n  }, function (error) {\n    console.error('API Response Error:', error);\n    return Promise.reject(error);\n  });\n  return api;\n};\nimport { logger } from \"../utils/logger\";\nvar api = axios.create({\n  baseURL: process.env.EXPO_PUBLIC_API_URL || 'http://localhost:3000'\n});\napi.interceptors.request.use(function (config) {\n  logger.info('API Request', {\n    method: config.method,\n    url: config.url\n  });\n  return config;\n}, function (error) {\n  logger.error('API Request Error', error);\n  return Promise.reject(error);\n});\napi.interceptors.response.use(function (response) {\n  logger.info('API Response', {\n    status: response.status,\n    url: response.config.url\n  });\n  return response;\n}, function (error) {\n  var _error$response, _error$config;\n  logger.error('API Response Error', {\n    status: (_error$response = error.response) == null ? void 0 : _error$response.status,\n    message: error.message,\n    url: (_error$config = error.config) == null ? void 0 : _error$config.url\n  });\n  return Promise.reject(error);\n});\nexport { api };","map":{"version":3,"names":["axios","createAPI","api","create","baseURL","process","env","EXPO_PUBLIC_API_URL","timeout","headers","interceptors","request","use","config","token","localStorage","getItem","Authorization","error","console","Promise","reject","response","logger","info","method","url","status","_error$response","_error$config","message"],"sources":["/Users/cassioreistrindade/kbc2/frontend/src/services/api.ts"],"sourcesContent":["import axios, { AxiosInstance } from 'axios';\n\nconst createAPI = (): AxiosInstance => {\n  const api = axios.create({\n    baseURL: process.env.EXPO_PUBLIC_API_URL || 'http://localhost:3000',\n    timeout: 10000,\n    headers: {\n      'Content-Type': 'application/json',\n    },\n  });\n\n  api.interceptors.request.use(\n    (config) => {\n      const token = localStorage.getItem('@KidsBookCreator:token');\n      if (token) {\n        config.headers.Authorization = `Bearer ${token}`;\n      }\n      return config;\n    },\n    (error) => {\n      console.error('API Request Error:', error);\n      return Promise.reject(error);\n    }\n  );\n\n  api.interceptors.response.use(\n    (response) => response,\n    (error) => {\n      console.error('API Response Error:', error);\n      return Promise.reject(error);\n    }\n  );\n\n  return api;\n};\nimport { logger } from '../utils/logger';\n\nconst api = axios.create({\n  baseURL: process.env.EXPO_PUBLIC_API_URL || 'http://localhost:3000',\n});\n\napi.interceptors.request.use(\n  (config) => {\n    logger.info('API Request', {\n      method: config.method,\n      url: config.url,\n    });\n    return config;\n  },\n  (error) => {\n    logger.error('API Request Error', error);\n    return Promise.reject(error);\n  }\n);\n\napi.interceptors.response.use(\n  (response) => {\n    logger.info('API Response', {\n      status: response.status,\n      url: response.config.url,\n    });\n    return response;\n  },\n  (error) => {\n    logger.error('API Response Error', {\n      status: error.response?.status,\n      message: error.message,\n      url: error.config?.url,\n    });\n    return Promise.reject(error);\n  }\n);\n\nexport { api };"],"mappings":"AAAA,OAAOA,KAAK,MAAyB,OAAO;AAE5C,IAAMC,SAAS,GAAG,SAAZA,SAASA,CAAA,EAAwB;EACrC,IAAMC,GAAG,GAAGF,KAAK,CAACG,MAAM,CAAC;IACvBC,OAAO,EAAEC,OAAO,CAACC,GAAG,CAACC,mBAAmB,IAAI,uBAAuB;IACnEC,OAAO,EAAE,KAAK;IACdC,OAAO,EAAE;MACP,cAAc,EAAE;IAClB;EACF,CAAC,CAAC;EAEFP,GAAG,CAACQ,YAAY,CAACC,OAAO,CAACC,GAAG,CAC1B,UAACC,MAAM,EAAK;IACV,IAAMC,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,wBAAwB,CAAC;IAC5D,IAAIF,KAAK,EAAE;MACTD,MAAM,CAACJ,OAAO,CAACQ,aAAa,GAAG,UAAUH,KAAK,EAAE;IAClD;IACA,OAAOD,MAAM;EACf,CAAC,EACD,UAACK,KAAK,EAAK;IACTC,OAAO,CAACD,KAAK,CAAC,oBAAoB,EAAEA,KAAK,CAAC;IAC1C,OAAOE,OAAO,CAACC,MAAM,CAACH,KAAK,CAAC;EAC9B,CACF,CAAC;EAEDhB,GAAG,CAACQ,YAAY,CAACY,QAAQ,CAACV,GAAG,CAC3B,UAACU,QAAQ;IAAA,OAAKA,QAAQ;EAAA,GACtB,UAACJ,KAAK,EAAK;IACTC,OAAO,CAACD,KAAK,CAAC,qBAAqB,EAAEA,KAAK,CAAC;IAC3C,OAAOE,OAAO,CAACC,MAAM,CAACH,KAAK,CAAC;EAC9B,CACF,CAAC;EAED,OAAOhB,GAAG;AACZ,CAAC;AACD,SAASqB,MAAM;AAEf,IAAMrB,GAAG,GAAGF,KAAK,CAACG,MAAM,CAAC;EACvBC,OAAO,EAAEC,OAAO,CAACC,GAAG,CAACC,mBAAmB,IAAI;AAC9C,CAAC,CAAC;AAEFL,GAAG,CAACQ,YAAY,CAACC,OAAO,CAACC,GAAG,CAC1B,UAACC,MAAM,EAAK;EACVU,MAAM,CAACC,IAAI,CAAC,aAAa,EAAE;IACzBC,MAAM,EAAEZ,MAAM,CAACY,MAAM;IACrBC,GAAG,EAAEb,MAAM,CAACa;EACd,CAAC,CAAC;EACF,OAAOb,MAAM;AACf,CAAC,EACD,UAACK,KAAK,EAAK;EACTK,MAAM,CAACL,KAAK,CAAC,mBAAmB,EAAEA,KAAK,CAAC;EACxC,OAAOE,OAAO,CAACC,MAAM,CAACH,KAAK,CAAC;AAC9B,CACF,CAAC;AAEDhB,GAAG,CAACQ,YAAY,CAACY,QAAQ,CAACV,GAAG,CAC3B,UAACU,QAAQ,EAAK;EACZC,MAAM,CAACC,IAAI,CAAC,cAAc,EAAE;IAC1BG,MAAM,EAAEL,QAAQ,CAACK,MAAM;IACvBD,GAAG,EAAEJ,QAAQ,CAACT,MAAM,CAACa;EACvB,CAAC,CAAC;EACF,OAAOJ,QAAQ;AACjB,CAAC,EACD,UAACJ,KAAK,EAAK;EAAA,IAAAU,eAAA,EAAAC,aAAA;EACTN,MAAM,CAACL,KAAK,CAAC,oBAAoB,EAAE;IACjCS,MAAM,GAAAC,eAAA,GAAEV,KAAK,CAACI,QAAQ,qBAAdM,eAAA,CAAgBD,MAAM;IAC9BG,OAAO,EAAEZ,KAAK,CAACY,OAAO;IACtBJ,GAAG,GAAAG,aAAA,GAAEX,KAAK,CAACL,MAAM,qBAAZgB,aAAA,CAAcH;EACrB,CAAC,CAAC;EACF,OAAON,OAAO,CAACC,MAAM,CAACH,KAAK,CAAC;AAC9B,CACF,CAAC;AAED,SAAShB,GAAG","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}