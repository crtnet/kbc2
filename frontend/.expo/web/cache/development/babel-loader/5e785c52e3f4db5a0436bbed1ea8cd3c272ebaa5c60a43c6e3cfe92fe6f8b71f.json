{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport axios from 'axios';\nvar API_BASE_URL = 'http://localhost:3000/api';\nvar api = axios.create({\n  baseURL: API_BASE_URL\n});\napi.interceptors.request.use(function (config) {\n  var token = localStorage.getItem('token');\n  if (token) {\n    config.headers.Authorization = `Bearer ${token}`;\n  }\n  return config;\n}, function (error) {\n  return Promise.reject(error);\n});\nexport function getBooks() {\n  return _getBooks.apply(this, arguments);\n}\nfunction _getBooks() {\n  _getBooks = _asyncToGenerator(function* () {\n    try {\n      var response = yield api.get('/books');\n      return response.data;\n    } catch (error) {\n      console.error('Erro ao obter livros:', error);\n      throw error;\n    }\n  });\n  return _getBooks.apply(this, arguments);\n}\nexport function getBookPDFViewer(_x) {\n  return _getBookPDFViewer.apply(this, arguments);\n}\nfunction _getBookPDFViewer() {\n  _getBookPDFViewer = _asyncToGenerator(function* (bookId) {\n    try {\n      var response = yield api.get(`/books/${bookId}/pdf-viewer`);\n      return response.data;\n    } catch (error) {\n      console.error('Erro ao obter visualizador de PDF:', error);\n      throw error;\n    }\n  });\n  return _getBookPDFViewer.apply(this, arguments);\n}","map":{"version":3,"names":["axios","API_BASE_URL","api","create","baseURL","interceptors","request","use","config","token","localStorage","getItem","headers","Authorization","error","Promise","reject","getBooks","_getBooks","apply","arguments","_asyncToGenerator","response","get","data","console","getBookPDFViewer","_x","_getBookPDFViewer","bookId"],"sources":["/Users/cassioreistrindade/kbc2/frontend/src/services/bookService.ts"],"sourcesContent":["// frontend/src/services/bookService.js\nimport axios from 'axios';\n\n// Configure a instância do Axios com a URL base do seu backend.\n// Em ambiente de desenvolvimento, por exemplo, use \"http://localhost:3000/api\"\nconst API_BASE_URL = 'http://localhost:3000/api';\n\n// Cria uma instância do Axios\nconst api = axios.create({\n  baseURL: API_BASE_URL,\n});\n\n// Interceptor para adicionar o header de autorização a cada requisição\napi.interceptors.request.use((config) => {\n  // Supondo que o token esteja armazenado no localStorage com a chave 'token'\n  const token = localStorage.getItem('token');\n  if (token) {\n    config.headers.Authorization = `Bearer ${token}`;\n  }\n  return config;\n}, (error) => {\n  return Promise.reject(error);\n});\n\nexport async function getBooks() {\n  try {\n    const response = await api.get('/books');\n    return response.data;\n  } catch (error) {\n    console.error('Erro ao obter livros:', error);\n    throw error;\n  }\n}\n\nexport async function getBookPDFViewer(bookId) {\n  try {\n    const response = await api.get(`/books/${bookId}/pdf-viewer`);\n    return response.data;\n  } catch (error) {\n    console.error('Erro ao obter visualizador de PDF:', error);\n    throw error;\n  }\n}\n"],"mappings":";AACA,OAAOA,KAAK,MAAM,OAAO;AAIzB,IAAMC,YAAY,GAAG,2BAA2B;AAGhD,IAAMC,GAAG,GAAGF,KAAK,CAACG,MAAM,CAAC;EACvBC,OAAO,EAAEH;AACX,CAAC,CAAC;AAGFC,GAAG,CAACG,YAAY,CAACC,OAAO,CAACC,GAAG,CAAC,UAACC,MAAM,EAAK;EAEvC,IAAMC,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;EAC3C,IAAIF,KAAK,EAAE;IACTD,MAAM,CAACI,OAAO,CAACC,aAAa,GAAG,UAAUJ,KAAK,EAAE;EAClD;EACA,OAAOD,MAAM;AACf,CAAC,EAAE,UAACM,KAAK,EAAK;EACZ,OAAOC,OAAO,CAACC,MAAM,CAACF,KAAK,CAAC;AAC9B,CAAC,CAAC;AAEF,gBAAsBG,QAAQA,CAAA;EAAA,OAAAC,SAAA,CAAAC,KAAA,OAAAC,SAAA;AAAA;AAQ7B,SAAAF,UAAA;EAAAA,SAAA,GAAAG,iBAAA,CARM,aAA0B;IAC/B,IAAI;MACF,IAAMC,QAAQ,SAASpB,GAAG,CAACqB,GAAG,CAAC,QAAQ,CAAC;MACxC,OAAOD,QAAQ,CAACE,IAAI;IACtB,CAAC,CAAC,OAAOV,KAAK,EAAE;MACdW,OAAO,CAACX,KAAK,CAAC,uBAAuB,EAAEA,KAAK,CAAC;MAC7C,MAAMA,KAAK;IACb;EACF,CAAC;EAAA,OAAAI,SAAA,CAAAC,KAAA,OAAAC,SAAA;AAAA;AAED,gBAAsBM,gBAAgBA,CAAAC,EAAA;EAAA,OAAAC,iBAAA,CAAAT,KAAA,OAAAC,SAAA;AAAA;AAQrC,SAAAQ,kBAAA;EAAAA,iBAAA,GAAAP,iBAAA,CARM,WAAgCQ,MAAM,EAAE;IAC7C,IAAI;MACF,IAAMP,QAAQ,SAASpB,GAAG,CAACqB,GAAG,CAAC,UAAUM,MAAM,aAAa,CAAC;MAC7D,OAAOP,QAAQ,CAACE,IAAI;IACtB,CAAC,CAAC,OAAOV,KAAK,EAAE;MACdW,OAAO,CAACX,KAAK,CAAC,oCAAoC,EAAEA,KAAK,CAAC;MAC1D,MAAMA,KAAK;IACb;EACF,CAAC;EAAA,OAAAc,iBAAA,CAAAT,KAAA,OAAAC,SAAA;AAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}