{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useEffect, useState } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport { useNavigation } from '@react-navigation/native';\nimport { BookList } from \"../components/BookList\";\nimport { FAB } from \"../components/FAB\";\nimport { useBooks } from \"../hooks/useBooks\";\nimport { useTheme } from \"../hooks/useTheme\";\nimport { useTranslation } from 'react-i18next';\nimport { logger } from \"../utils/logger\";\nimport { LoadingSpinner } from \"../components/LoadingSpinner\";\nimport { ErrorMessage } from \"../components/ErrorMessage\";\nimport { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nexport var HomeScreen = function HomeScreen() {\n  var navigation = useNavigation();\n  var _useTheme = useTheme(),\n    theme = _useTheme.theme;\n  var _useTranslation = useTranslation(),\n    t = _useTranslation.t;\n  var _useBooks = useBooks(),\n    books = _useBooks.books,\n    loading = _useBooks.loading,\n    error = _useBooks.error,\n    fetchBooks = _useBooks.fetchBooks;\n  var _useState = useState(false),\n    _useState2 = _slicedToArray(_useState, 2),\n    isRefreshing = _useState2[0],\n    setIsRefreshing = _useState2[1];\n  useEffect(function () {\n    logger.info('Loading user books');\n    fetchBooks();\n  }, []);\n  var handleRefresh = function () {\n    var _ref = _asyncToGenerator(function* () {\n      logger.info('Refreshing books list');\n      setIsRefreshing(true);\n      yield fetchBooks();\n      setIsRefreshing(false);\n    });\n    return function handleRefresh() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n  var handleCreateBook = function handleCreateBook() {\n    logger.info('Navigating to create book screen');\n    navigation.navigate('CreateBook');\n  };\n  if (loading && !isRefreshing) {\n    return _jsx(LoadingSpinner, {});\n  }\n  if (error) {\n    return _jsx(ErrorMessage, {\n      message: error,\n      onRetry: fetchBooks\n    });\n  }\n  return _jsxs(View, {\n    style: [styles.container, {\n      backgroundColor: theme.colors.background\n    }],\n    children: [_jsx(BookList, {\n      books: books,\n      onRefresh: handleRefresh,\n      isRefreshing: isRefreshing\n    }), _jsx(FAB, {\n      icon: \"plus\",\n      onPress: handleCreateBook,\n      style: styles.fab,\n      color: theme.colors.primary\n    })]\n  });\n};\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1\n  },\n  fab: {\n    position: 'absolute',\n    right: 16,\n    bottom: 16\n  }\n});","map":{"version":3,"names":["React","useEffect","useState","View","StyleSheet","useNavigation","BookList","FAB","useBooks","useTheme","useTranslation","logger","LoadingSpinner","ErrorMessage","jsx","_jsx","jsxs","_jsxs","HomeScreen","navigation","_useTheme","theme","_useTranslation","t","_useBooks","books","loading","error","fetchBooks","_useState","_useState2","_slicedToArray","isRefreshing","setIsRefreshing","info","handleRefresh","_ref","_asyncToGenerator","apply","arguments","handleCreateBook","navigate","message","onRetry","style","styles","container","backgroundColor","colors","background","children","onRefresh","icon","onPress","fab","color","primary","create","flex","position","right","bottom"],"sources":["/Users/cassioreistrindade/kbc2/frontend/src/screens/HomeScreen.tsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { View, StyleSheet } from 'react-native';\nimport { useNavigation } from '@react-navigation/native';\nimport { BookList } from '../components/BookList';\nimport { FAB } from '../components/FAB';\nimport { useBooks } from '../hooks/useBooks';\nimport { useTheme } from '../hooks/useTheme';\nimport { useTranslation } from 'react-i18next';\nimport { logger } from '../utils/logger';\nimport { LoadingSpinner } from '../components/LoadingSpinner';\nimport { ErrorMessage } from '../components/ErrorMessage';\n\nexport const HomeScreen: React.FC = () => {\n  const navigation = useNavigation();\n  const { theme } = useTheme();\n  const { t } = useTranslation();\n  const { books, loading, error, fetchBooks } = useBooks();\n  const [isRefreshing, setIsRefreshing] = useState(false);\n\n  useEffect(() => {\n    logger.info('Loading user books');\n    fetchBooks();\n  }, []);\n\n  const handleRefresh = async () => {\n    logger.info('Refreshing books list');\n    setIsRefreshing(true);\n    await fetchBooks();\n    setIsRefreshing(false);\n  };\n\n  const handleCreateBook = () => {\n    logger.info('Navigating to create book screen');\n    navigation.navigate('CreateBook');\n  };\n\n  if (loading && !isRefreshing) {\n    return <LoadingSpinner />;\n  }\n\n  if (error) {\n    return <ErrorMessage message={error} onRetry={fetchBooks} />;\n  }\n\n  return (\n    <View style={[styles.container, { backgroundColor: theme.colors.background }]}>\n      <BookList\n        books={books}\n        onRefresh={handleRefresh}\n        isRefreshing={isRefreshing}\n      />\n      <FAB\n        icon=\"plus\"\n        onPress={handleCreateBook}\n        style={styles.fab}\n        color={theme.colors.primary}\n      />\n    </View>\n  );\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n  },\n  fab: {\n    position: 'absolute',\n    right: 16,\n    bottom: 16,\n  },\n});"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}